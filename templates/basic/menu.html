{% extends 'menu-base.html' %}
{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block parent_classes %}relative bg-neutral-800 text-white{% endblock %}
{% block content %}
<!-- language selector custom modal -->
<div id="header" class="sticky top-0 flex flex-row justify-between items-center gap-1.5 mb-6">
    <img class="h-16" src="{{ menu.logo.url }}" alt="{{ menu.resturaunt_name }} Logo">
    <!-- Dropdown with images for languages -->
    <a href="{{ request.path|slice:':-1' }}" class="rounded rounded-md p-3 transition-all duration-50 bg-neutral-700 active:bg-neutral-600">
        <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="m476-80 182-480h84L924-80h-84l-43-122H603L560-80h-84ZM160-200l-56-56 202-202q-35-35-63.5-80T190-640h84q20 39 40 68t48 58q33-33 68.5-92.5T484-720H40v-80h280v-80h80v80h280v80H564q-21 72-63 148t-83 116l96 98-30 82-122-125-202 201Zm468-72h144l-72-204-72 204Z"/></svg>
    </a>
</div>
<div class="swiper p-3 max-[350px]:p-0 bg-neutral-700 rounded rounded-md">
    <div class="swiper-wrapper scroll-smooth">
        {% for item in featured %}
        <div class="swiper-slide grid grid-cols-3 max-[350px]:grid-cols-1 gap-1 max-[350px]:gap-2">
            <div class="col-span-2 max-[350px]:col-span-1 w-full h-full flex flex-col justify-start gap-1 max-[350px]:gap-0.5 max-[350px]:p-3">
                <p class="{% if LANGUAGE_CODE == 'ar' %}pb-1 {% endif %}bg-{{ item.featured_label_color }}-500 text-sm p-0.5 px-2 rounded rounded-md w-max">{{ item.featured_label }}</p>
                <div class="text-2xl">{{ item.title }}</div>
                <p class="text-sm mb-1">{{ item.ingredients }}</p>
                <div class="mt-1 text-3xl font-medium"><span class="text-2xl">$</span>{{ item.price }}</div>
            </div>
            <div class="max-[350px]:order-first w-full min-h-32 h-full rounded rounded-md" style="background-image: url('{{ item.image.url }}');background-size: cover;background-repeat: no-repeat;background-position: center;"></div>
        </div>
        {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
</div>
<script>
    var swiper = new Swiper('.swiper', {
        slidesPerView: 1,
        spaceBetween: 20,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        loop: true,
        autoplay: {
            delay: 4000,
        },
    });
    // Add active class to the selected item
</script>
<style>
    .swiper-pagination-bullet {
        --tw-bg-opacity: 1;
        background-color: rgb(255 255 255 / var(--tw-bg-opacity)) !important;
        transform: scale(.85);
    }
    .swiper-pagination-bullet-active {
        --tw-bg-opacity: 1;
        background-color: rgb(161 161 161 / var(--tw-bg-opacity)) !important;
        transform: scale(1);
    }
</style>
{% endblock %}