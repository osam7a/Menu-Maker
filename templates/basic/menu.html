{% extends 'menu-base.html' %}
{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block parent_classes %}relative bg-neutral-800 text-white{% endblock %}
{% block content %}
<!-- language selector custom modal -->
<div id="header" class="z-50 bg-neutral-800 sticky top-0 flex flex-row justify-between items-center gap-1.5  p-3">
    <img class="h-16" src="{{ menu.logo.url }}" alt="{{ menu.resturaunt_name }} Logo">
    <a href="{{ request.path }}" class="rounded rounded-md p-3 transition-all duration-50 bg-neutral-700 active:bg-neutral-600">
        <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="m476-80 182-480h84L924-80h-84l-43-122H603L560-80h-84ZM160-200l-56-56 202-202q-35-35-63.5-80T190-640h84q20 39 40 68t48 58q33-33 68.5-92.5T484-720H40v-80h280v-80h80v80h280v80H564q-21 72-63 148t-83 116l96 98-30 82-122-125-202 201Zm468-72h144l-72-204-72 204Z"/></svg>
    </a>
</div>
<div class="p-3">
<div class="swiper p-3 max-[350px]:p-0 bg-neutral-700 rounded rounded-md">
    <div class="swiper-wrapper scroll-smooth">
        {% for item in featured %}
        <div class="swiper-slide grid grid-cols-3 max-[350px]:grid-cols-1 gap-1 max-[350px]:gap-2">
            <div class="col-span-2 max-[350px]:col-span-1 w-full h-full flex flex-col justify-start gap-2 max-[350px]:gap-0.5 max-[350px]:p-3">
                <div>
                    <p class="{% if LANGUAGE_CODE == 'ar' %}pb-1 {% endif %}bg-{{ item.featured_label_color }}-500 text-sm p-0.5 px-2 rounded rounded-md w-max">{{ item.featured_label }}</p>
                    <div class="text-2xl">{{ item.title }}</div>
                </div>
                <p class="text-sm mb-1">{{ item.ingredients }}</p>
                <div class="mt-1 text-3xl font-medium"><span class="text-2xl">{{ item.menu.currency }} </span>{{ item.price }}</div>
            </div>
            <div class="max-[350px]:order-first w-full min-h-32 h-full rounded rounded-md" style="background-image: url('{{ item.image.url }}');background-size: cover;background-repeat: no-repeat;background-position: center;"></div>
        </div>
        {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
</div>
<h1 class="mt-5 mb-2 text-2xl">{% translate 'Categories' %}</h1>
<hr class="mb-3 opacity-50">
<div class="flex flex-col gap-1.5">
    {% for category in categories %}
    <div class="grid grid-rows-1 grid-cols-7 bg-neutral-700 rounded rounded-md animate__animated animate__slideInLeft" style="animation-delay: .{{ forloop.counter0|add:3 }}s;animation-duration: .5s;">
        {% if category.image %}<div class="col-span-2 w-full h-full rounded-l rounded-k-md" style="background-image: url('{{ category.image.url }}');background-size: cover;background-repeat: no-repeat;background-position: center;"></div>{% endif %}
        <div class="{% if category.image %}col-span-5{% else %}col-span-7{% endif %} p-5 px-3 flex flex-row items-center">
            <h1 class="text-2xl pb-1">{{ category.title }}</h1>
            <svg class="ms-auto w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"/></svg>
        </div>
    </div>
    {% endfor %}
</div>
</div>
<script>
    var swiper = new Swiper('.swiper', {
        slidesPerView: 1,
        spaceBetween: 20,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        loop: true,
        //autoplay: {
        //    delay: 4000,
        // },
    });
    // Add active class to the selected item
</script>
<style>
    .swiper-pagination-bullet {
        --tw-bg-opacity: 1;
        background-color: rgb(255 255 255 / var(--tw-bg-opacity)) !important;
        transform: scale(.85);
    }
    .swiper-pagination-bullet-active {
        --tw-bg-opacity: 1;
        background-color: rgb(161 161 161 / var(--tw-bg-opacity)) !important;
        transform: scale(1);
    }
</style>
{% endblock %}